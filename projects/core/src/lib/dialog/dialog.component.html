<fiv-overlay #overlay>
  <div *ngIf="backdrop" (@fade.done)="backdropAnimDone($event)"
    [@fade]="{value: dialogState, params: { opacity: 0, inDuration: '120ms' }}" (click)="backdropClick()" class="backdrop">
  </div>
  <div #dialog class="dialog" [ngClass]="[verticalAlign, horizontalAlign, shape]">
    <ng-container>
      <ng-container *ngTemplateOutlet="card"></ng-container>
    </ng-container>
  </div>

</fiv-overlay>

<ng-template #card>
  <ion-card [@fade]="{value: dialogState, params: { opacity: 0, inDuration: '120ms' }}"
    [@slide]="{value: dialogState, params: {top: outPosition, inDuration: inDuration + 'ms',outDuration: outDuration + 'ms', toPosition: toPosition, translate: translate}}"
    (@slide.done)="animationDone($event)">
    <fiv-loading-progress-bar [verticalAlign]="verticalAlign === 'top' ? 'bottom' : 'top'"
      (fivDoneShrinking)="doneShrinking()" #bar></fiv-loading-progress-bar>
    <ng-content></ng-content>
  </ion-card>
</ng-template>